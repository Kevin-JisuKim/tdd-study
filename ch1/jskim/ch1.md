## 1장. 다중 통화를 지원하는 Money 객체
 
 >**TDD 리듬**

1. 재빨리 테스트를 하나 추가한다.
2. 모든 테스트를 실행하고 새로 추가한 것이 실패하는지 확인한다.
3. 코드를 조금 바꾼다.
4. 모든 테스트를 실행하고 전부 성공하는지 확인한다.
5. 리팩토링을 통해 중복을 제거한다.

>**코드 작성**

- **객체**를 생각하기 전에 **테스트**를 먼저 만들기
- **오퍼레이션** (메서드)의 완벽한 인터페이스에 대해 상상  
    => **오퍼레이션**이 외부에서 어떤 식으로 보일지에 대해 테스트 코드에 반영
- API에서 시작해서 거꾸로 작업하는 것이 현실적으로 하는것보다 나음
- 테스트를 작성하면서 생기는 의문점이나 문제들은 계속 적어둠
- **스텁 구현** : 컴파일만 될 수 있게 해주는 최소한의 구현
- 문제의 변형 : 다중 통화 구현 -> 모든 테스트 통과시키기
- 테스트를 통과할 입력값은 찾기가 힘듦  
  => 일반화 필요
- **작은 단계**를 밟을 수 있는 능력을 갖추는 것이 핵심

>**일반화 주기**

1. 작은 테스트를 하나 추가한다.
2. 모든 테스트를 실행해서 테스트가 실패하는 것을 확인한다.
3. 조금 수정한다.
4. 모든 테스트를 실행해서 테스트가 성공하는 것을 확인한다.
5. 중복을 제거하기 위해 리팩토링을 한다.  
   => **리팩토링** : 코드의 외적 행위는 그대로 유지하면서 내부 구조만 바꾸는 작업

>**의존성과 중복**

- 테스트와 코드 사이에는 의존성이 존재  
  => 한쪽을 수정하면 반드시 다른 한쪽도 수정해야함
- **중복** : 의존성 문제의 징후, 동일한 문장이 코드의 여러 장소에 나타나는 것
- 중복을 제거 = 의존성을 제거
- **필요한 것은 단 한번만**  
  => 중복을 제거하여 다음 테스트도 통과시킬 수 있게끔